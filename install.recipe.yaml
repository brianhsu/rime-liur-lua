# encoding: utf-8
---
recipe:
  Rx: install
  description: >-
    Install liur and flush schema list to liur

install_files: >-
  liur.extended.dict.yaml
  liur.schema.yaml
  openxiami_CustomWord.dict.yaml
  openxiami_TCJP.dict.yaml
  openxiami_TradExt.dict.yaml
  rime.lua
  opencc/*.*

patch_files:
  zhuyin.yaml:
    pinyin_to_zhuyin:
      __append:
        - xform/^m(\d)$/mu$1/  # 呣
        - xform/^r5$/er5/  # 〜兒
        - xform/iu/iou/
        - xform/ui/uei/
        - xform/ong/ung/
        - xform/^yi?/i/
        - xform/^wu?/u/
        - xform/iu/v/
        - xform/^([jqx])u/$1v/
        - xform/([iuv])n/$1en/
        - xform/^zhi?/Z/
        - xform/^chi?/C/
        - xform/^shi?/S/
        - xform/^([zcsr])i/$1/
        - xform/ai/A/
        - xform/ei/I/
        - xform/ao/O/
        - xform/ou/U/
        - xform/ang/K/
        - xform/eng/G/
        - xform/an/M/
        - xform/en/N/
        - xform/er/R/
        - xform/eh/E/
        - xform/([iv])e/$1E/
    
    free_order:
      __append:
        - derive/([bpmfdtnlgkhjqxZCSrzcs])([iuv])/$2$1/
        - derive/([iuv])([aoeEAIOUMNKGR])/$2$1/
        - derive/([bpmfdtnlgkhjqxZCSrzcs])([aoeEAIOUMNKGR])/$2$1/
        - derive/([bpmfdtnlgkhjqxZCSrzcs])([iuv])/$2$1/
    
    abbreviation:
      __append:
        - abbrev/^([bpmfdtnlgkhjqxZCSrzcs]).+$/$1/
        - abbrev/^([A-Za-z]+)\d$/$1/
        - abbrev/^([bpmfdtnlgkhjqxZCSrzcs]).+(\d)$/$1$2/
    
    keymap_bopomofo:
      __append:
        - 'xlit|bpmfdtnlgkhjqxZCSrzcsiuvaoeEAIOUMNKGR12345|1qaz2wsxedcrfv5tgbyhnujm8ik,9ol.0p;/- 6347|'

  default.custom.yaml:
    - patch:
        "menu/page_size": 9
    - patch/+:
        schema_list: [schema: liur]
    - patch/key_binder/bindings/+:
      - { accept: period, send: period, when: has_menu }      # 輸入.
      - { accept: "Control+period", toggle: simplification, when: always }    #進行簡繁切換
      - { accept: "Control+apostrophe", toggle: liu_w2c, when: always }   #顯示同音字
      - { accept: "Control+slash", toggle: extended_charset, when: always}
      - { accept: "Shift+space", toggle: full_shape, when: always}
